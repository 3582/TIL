---
title: "シンプルなメモアプリケーションの作成"
emoji: "🐕"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["php"]
published: false
---
#### 課題詳細

- 基本的なPHPの文法と機能を学びながら、シンプルなメモアプリケーションを作成します。
- フォームの処理、セッションの利用、ファイルの読み書きなどを理解します。

1. プロジェクトのセットアップ
2. メモの追加機能
3. メモの表示機能
4. メモの削除機能
5. メモデータの保存と読み込み

### 参考文献

- [PHP Documentation](https://www.php.net/docs.php)
- [HTML Forms](https://developer.mozilla.org/en-US/docs/Learn/Forms)
- [Working with JSON in PHP](https://www.php.net/manual/en/book.json.php)
- [File Handling in PHP](https://www.php.net/manual/en/book.filesystem.php)

### ステップ

1. **基本的なHTMLフォームの作成**：
    - `index.php`ファイルに、メモを追加するためのフォームを作成します。

    ```php
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Memo App</title>
    </head>
    <body>
        <h1>Memo App</h1>
        <form action="index.php" method="POST">
            <input type="text" name="memo" placeholder="Enter your memo" required>
            <button type="submit">Add Memo</button>
        </form>
        <h2>Memos</h2>
        <ul>
            <?php
            $memos = file_exists('data/memos.json') ? json_decode(file_get_contents('data/memos.json'), true) : [];
            foreach ($memos as $id => $memo) {
                echo "<li>{$memo} <a href='?delete={$id}'>Delete</a></li>";
            }
            ?>
        </ul>
    </body>
    </html>
    ```

2. **メモの追加機能**：
    - フォームのデータを処理し、メモを追加するためのPHPコードを追加します。

    ```php
    <?php
    session_start();

    if ($_SERVER['REQUEST_METHOD'] === 'POST') {
        $memo = htmlspecialchars($_POST['memo']);
        $memos = file_exists('data/memos.json') ? json_decode(file_get_contents('data/memos.json'), true) : [];
        $memos[] = $memo;
        file_put_contents('data/memos.json', json_encode($memos));
        header('Location: index.php');
        exit;
    }

    if (isset($_GET['delete'])) {
        $id = $_GET['delete'];
        $memos = file_exists('data/memos.json') ? json_decode(file_get_contents('data/memos.json'), true) : [];
        unset($memos[$id]);
        file_put_contents('data/memos.json', json_encode(array_values($memos)));
        header('Location: index.php');
        exit;
    }
    ?>
    ```

3. **メモの表示機能**：
    - `index.php`ファイル内のPHPコードを使って、保存されているメモを表示します（既にステップ2で追加済み）。

4. **メモの削除機能**：
    - リンクをクリックしてメモを削除する機能を追加します（既にステップ3で追加済み）。

5. **メモデータの保存と読み込み**：
   - メモデータはJSON形式で保存され、読み込まれます。
   - メモの追加、削除の操作は、data/memos.jsonファイルに保存されたデータを更新することで行われます。
