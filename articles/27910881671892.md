---
title: "CSVãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚Šã€é›†è¨ˆã™ã‚‹Rubyã‚¹ã‚¯ãƒªãƒ—ãƒˆ"
emoji: "ğŸ‘Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ruby"]
published: false
---
### èª²é¡Œè©³ç´°

1. CSVãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
   - ä»¥ä¸‹ã®å†…å®¹ã§data.csvã¨ã„ã†CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```csv
name,age,score
Alice,30,85
Bob,25,90
Charlie,35,70
Dave,40,80
```

2. Rubyã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ

3. data.csvãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚Šã€å„åˆ—ã®é›†è¨ˆçµæœã‚’è¡¨ç¤ºã™ã‚‹Rubyã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã€‚
é›†è¨ˆã™ã‚‹å†…å®¹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- å¹³å‡å¹´é½¢
- å¹³å‡ã‚¹ã‚³ã‚¢
- ã‚¹ã‚³ã‚¢ãŒ80ä»¥ä¸Šã®äººæ•°

å‚è€ƒæ–‡çŒ®
- [class CSV](https://docs.ruby-lang.org/ja/latest/class/CSV.html)

```ruby
require 'csv'

# CSVãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
file_path = 'data.csv'

# ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€
data = CSV.read(file_path, headers: true)

# å¹´é½¢ã¨ã‚¹ã‚³ã‚¢ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
ages = data['age'].map(&:to_i)
scores = data['score'].map(&:to_i)

# å¹³å‡å¹´é½¢ã‚’è¨ˆç®—
average_age = ages.sum / ages.size.to_f

# å¹³å‡ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—
average_score = scores.sum / scores.size.to_f

# ã‚¹ã‚³ã‚¢ãŒ80ä»¥ä¸Šã®äººæ•°ã‚’è¨ˆç®—
high_scores_count = scores.count { |score| score >= 80 }

# çµæœã‚’è¡¨ç¤º
puts "å¹³å‡å¹´é½¢: #{average_age.round(2)}"
puts "å¹³å‡ã‚¹ã‚³ã‚¢: #{average_score.round(2)}"
puts "ã‚¹ã‚³ã‚¢ãŒ80ä»¥ä¸Šã®äººæ•°: #{high_scores_count}"

```
